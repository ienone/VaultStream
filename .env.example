# ====================================================================
# VaultStream 配置文件（轻量模式）
# ====================================================================

# 数据库配置（仅支持 SQLite）
DATABASE_TYPE=sqlite
SQLITE_DB_PATH=./data/vaultstream.db

# 队列配置（仅支持 SQLite 任务表）
QUEUE_TYPE=sqlite

# 存储后端（仅支持本地文件系统）
STORAGE_BACKEND=local
STORAGE_LOCAL_ROOT=./data/media
STORAGE_PUBLIC_BASE_URL=http://localhost:8000/api/v1

# ====================================================================
# 通用配置
# ====================================================================

# Telegram Bot 配置
ENABLE_BOT=False
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHANNEL_ID=@your_channel_id

# 全局HTTP代理配置（可选，用于Telegram、Twitter、YouTube等需要代理的服务）
HTTP_PROXY=http://127.0.0.1:7890
# HTTPS_PROXY=http://127.0.0.1:7890  # 可选，如果需要单独配置HTTPS代理

# 应用配置
APP_ENV=dev
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=True

# API 鉴权（可选：不设置则不校验；设置后需在请求里带 X-API-Token 或 Bearer）
API_TOKEN=

# 日志配置
# LOG_FORMAT: json | text
LOG_LEVEL=INFO
LOG_FORMAT=json

# B站配置（可选，用于需要登录的API）
BILIBILI_SESSDATA=
BILIBILI_BILI_JCT=
BILIBILI_BUVID3=

# Twitter/X 配置
# 现在使用 FxTwitter API，无需任何配置
# FxTwitter 是第三方服务，无需登录即可获取推文数据

# 存储后端（用于私有归档的派生资产：图片 webp、未来音视频转码等）
# STORAGE_BACKEND: local | s3
STORAGE_BACKEND=local

# 若配置，可将存储 key 映射为可访问 URL（例如通过 Nginx/对象存储网关）
# 例如: http://127.0.0.1:9000 (MinIO S3 endpoint) 或 http://127.0.0.1:8080 (你自己的静态文件服务)
STORAGE_PUBLIC_BASE_URL=

# LocalFS
STORAGE_LOCAL_ROOT=data/storage

# S3/MinIO（当 STORAGE_BACKEND=s3 时必填）
STORAGE_S3_ENDPOINT=http://127.0.0.1:9000
STORAGE_S3_REGION=us-east-1
STORAGE_S3_BUCKET=vaultstream
STORAGE_S3_ACCESS_KEY=minioadmin
STORAGE_S3_SECRET_KEY=minioadmin

# 如果 bucket 不公开，但你希望导出 Markdown 时仍能直接访问图片，可启用 presigned URL
STORAGE_S3_PRESIGN_URLS=False
STORAGE_S3_PRESIGN_EXPIRES=3600

# 私有归档媒体处理（图片下载→转 WebP→写入 storage，并把引用写回 raw_metadata.archive）
ENABLE_ARCHIVE_MEDIA_PROCESSING=False
ARCHIVE_IMAGE_WEBP_QUALITY=80
# 限制处理图片数量（留空表示不限制）
ARCHIVE_IMAGE_MAX_COUNT=
